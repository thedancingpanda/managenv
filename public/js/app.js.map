{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["/**\n * Created by thomaswalsh on 4/15/16.\n */\n\n$(document).ready(function(){\n    $.ajaxSetup({\n        headers: {\n            'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\n        }\n    });\n    $('.add-env').click(function(){\n        var environment = $(this).closest('.input-group').find('.env-name').val();\n        var parent = $(this).data('parent');\n        var url = '/environment';\n        if(parent > 0)\n            url += '/'+parent;\n\n        $.post(url, {\n            name: environment\n        }, function(data){\n            if(data.success){\n                window.location = '/environment/'+data.id;\n            }\n            else{\n                alert(data.error);\n            }\n        });\n    });\n    $('#export').click(function(){\n\n    });\n    $('.del-value').click(function(){\n        var val_id = $(this).data('id');\n        var env_id = $(this).data('env');\n        var current_html = $(this).closest('tr');\n        $.post('/delete-variable',{\n            id: val_id,\n            environment: env_id\n        }, function(data){\n            if(data.success){\n                if(data.parent_html){\n                    current_html.replaceWith(data.parent_html);\n                }\n                else{\n                    current_html.remove();\n                }\n            }\n        });\n    });\n    $('#add-env').click(function(){\n        var errors =$('#add-error');\n        errors.slideUp('fast');\n        var env_id = $(this).data('id');\n        var name = $('#add-env-name').val();\n        var value = $('#add-env-value').val();\n        if($('input[data-name='+name+']').length > 0){\n            errors.text(\"This variable already exists!\").slideDown('fast');\n\n        }\n        else{\n            $.post('/set-variable/'+env_id, {\n                name: name,\n                value: value\n            }, function(data){\n                if(data.success){\n\n                    $('.table').find('tbody').append(data.html);\n                }\n            });\n        }\n    });\n    $('.var-value').blur(function(){\n        var current_html = $(this).closest('tr');\n        var env_id = $(this).data('env');\n        var name = $(this).data('name');\n        var value = $(this).val();\n        \n        $.post('/set-variable/'+env_id, {\n            name: name,\n            value: value\n        }, function(data){\n            if(data.success){\n                current_html.replaceWith(data.html);\n            }\n        });\n    });\n\n});\n"],"sourceRoot":"/source/"}